<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Messenger</title>

<script src="/socket.io/socket.io.js"></script>

<style>
body{
margin:0;
background:#111;
color:white;
font-family:Arial;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

#login,#chat{
width:300px;
}

input,button{
width:100%;
padding:10px;
margin:5px 0;
border:none;
border-radius:5px;
}

button{
background:#4caf50;
color:white;
cursor:pointer;
}

#messages{
height:300px;
overflow:auto;
border:1px solid #444;
padding:5px;
}
</style>
</head>

<body>

<div id="login">
<h2>Login</h2>
<input id="username" placeholder="Username">
<button onclick="enter()">Enter</button>
</div>

<div id="chat" style="display:none">
<h3 id="me"></h3>
<div id="messages"></div>
<input id="text" placeholder="Message">
<button onclick="send()">Send</button>
</div>

<script>

const socket = io();
let user = "";

function enter(){
  user = username.value;
  if(!user) return alert("name");

  login.style.display="none";
  chat.style.display="block";
  me.innerText="You: "+user;
}

function send(){
  if(!text.value) return;

  socket.emit("send",{
    from:user,
    to:"all",
    text:text.value
  });

  text.value="";
}

socket.on("message",m=>{
  messages.innerHTML += `<div><b>${m.from}:</b> ${m.text}</div>`;
  messa
